{% load filters %}

<form class="pt-4">
  {% csrf_token %}
    <div class="card mb-3">
        <div class="card-header border-bottom">
            <h5 class="content-color-primary mb-0">Редактирование новости</h5>
        </div>
        <div class="card-body">
            <div class="form-group">
              <label>Название</label>
              <input type="text" value="{{ blog.title }}" name="title" class="form-control" id="id_title">
            </div>
            <div class="form-group">
              <label>Описание</label>
              <textarea style="min-height: 200px;" type="text" rows="2" name="description" class="form-control custom_supported" id="id_description">{{ blog.description }}</textarea>
            </div>
            <div class="form-group">
              <label>Обложка</label>
              <p>Формат: png, jpg, jpeg, webp </p>
              <span>
                <input style="display: none;" id="id_image" type="file" name="image" accept="image/*">
              </span>
              <div id="holder_image" style="border: 2px dashed blue;padding: 10px;text-align: center;margin: 10px;cursor:pointer">
                <img class="img-fluid rounded" src="/static/images/list.jpg" alt="Img default" style="height: 100px;">
              </div>
            </div>
            <div class="form-group">
              <label>Теги</label>
              <div style="display: flex;flex-wrap: wrap">
                {% for tag in tags %}
                <div class="custom-control custom-control-info custom-checkbox" style="padding-right: 1.8rem;margin-top: 1.5rem;">
                  <input {% if blog|is_selected_manager_tags:tag.name %}checked{% endif %} value="{{ tag.pk }}" type="checkbox" name="tags" class="custom-control-input" id="a{{ tag.pk }}">
                  <label class="custom-control-label" for="a{{ tag.pk }}">{{ tag.name }}</label>
                </div>
                {% endfor %}
              </div>
            </div>
            <div class="form-group mt-2">
              <div class="custom-control custom-checkbox">
                <input type="checkbox" name="comments_enabled" class="custom-control-input" {% if blog.comments_enabled %}checked{% endif %} id="id_111">
                <label class="custom-control-label" for="id_111">Комментарии разрешены</label>
              </div>
            </div>
            <div class="form-group">
              <div class="custom-control custom-checkbox">
                <input type="checkbox" name="votes_on" class="custom-control-input" {% if blog.votes_on %}checked{% endif %} id="id_112">
                <label class="custom-control-label" for="id_112">Реакции разрешены</label>
              </div>
            </div>
        </div>
        <div class="card-footer">
            <button class="btn custom_color border create_fullscreen_hide_2" style="position: absolute;">Отмена</button>
            <button id="edit_blog_btn" type="button" class="btn btn-success float-right" data-pk="{{ blog.pk }}">Опубликовать</button>
        </div>
    </div>
</form>
